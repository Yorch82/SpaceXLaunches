---
import { getLaunchById,  getLatestLaunches } from "../../services/spacex";
import Layout from "../../layouts/Layout.astro";

const { id } = Astro.params;

let launch
if(id) { // sÃ³lo para el servidor
    launch = await getLaunchById({ id })
}

export async function getStaticPaths() {
    // Llamar a una API externa
    // para saber todas las ids que debe generar

    const launches = await getLatestLaunches();

    return launches.map(launch => ({
        params: { id: launch.id }
    }))
};
---
<Layout title="Launch Detail">
    <article>
        {launch.id}
    </article>
</Layout>
